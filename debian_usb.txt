# Создайте пользовательскую живую среду Debian (CD или USB)

# Это шаги, которые я использовал на 64-разрядной системе Ubuntu 22.04 LTS (Jellyfish) для создания живой среды AMD64 (64-бит) Debian (стабильная), 
# которую может загрузить из CD или USB. Живая среда генерируется этим руководством, загружаемой с помощью устаревших биосов или современного EFI.
# Это руководство существует для образования. Это не обязательно самое быстрое руководство или лучшее руководство для ваших нужд. 
# Есть много других приложений, учебных пособий, пошаговых руководств и методов, которые лучше объясняют то, что в этом руководстве.

# Я надеюсь, что это руководство будет полезно все же. Руководство Debian Live - это больше информации, чем когда -либо была бы эта статья.

# --------------- Prerequisites ---------(Предварительные условия)----------------------------------

# Установите приложения, необходимые для построения живой среды.

sudo apt-get install \
    debootstrap \
    squashfs-tools \
    xorriso \
    isolinux \
    syslinux-efi \
    grub-pc-bin \
    grub-efi-amd64-bin \
    grub-efi-ia32-bin \
    mtools \
    dosfstools

# Создайте каталог, в котором мы будем хранить все файлы, которые мы создаем в этом руководстве.

mkdir -p "${HOME}/LIVE_BOOT"

# -----------Bootstrap and Configure Debian---------------------
# Set up the base Debian environment. I am using stable for my distribution and amd64 for the architecture
# Consult the list of debian mirrors.    https://www.debian.org/mirror/list

# Пожалуйста, измените URL в этой команде, если есть зеркало, которое находится рядом с вами.

sudo debootstrap \
    --arch=amd64 \
    --variant=minbase \
    stable \
    "${HOME}/LIVE_BOOT/chroot" \
    http://ftp.us.debian.org/debian/

# Установите пользовательское имя хоста для вашей среды Debian.

echo "debian-live" | sudo tee "${HOME}/LIVE_BOOT/chroot/etc/hostname"

-------------------------------------------------------------------------
# Установите ядро ​​Linux по вашему выбору. Я выбрал изображение Linux-Image-AMD64. Я также считаю, что Live Boot-это необходимость. 
# Systemd-Sys (или эквивалент) также необходим для обеспечения init.

sudo chroot "${HOME}/LIVE_BOOT/chroot" << EOF
apt-get update && \
apt-get install -y --no-install-recommends \
    linux-image-amd64 \
    live-boot \
    systemd-sysv
EOF



